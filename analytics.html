<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>2BANGUZHQ â€¢ Analytics</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<script>
  const firebaseConfig = {
    apiKey: "AIzaSyDzebcGSAmhOknVGpLry6zCsawHpNGoMNQ",
    authDomain: "banguzhq.firebaseapp.com",
    projectId: "banguzhq",
  };

  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();
  const db = firebase.firestore();
</script>

<style>
body{
  background:#05070A;
  color:#C9CCD6;
  font-family:Arial;
  padding:50px;
  text-align:center;
}

h1{
  font-size:2.8rem;
  letter-spacing:4px;
  text-shadow:0 0 18px #00B4FF;
}

.card{
  max-width:720px;
  margin:30px auto;
  padding:25px;
  border-radius:16px;
  background:rgba(11,18,32,.9);
  border:1px solid rgba(0,180,255,.35);
  box-shadow:0 0 40px rgba(0,180,255,.3);
  text-align:left;
}
pre{
  white-space:pre-wrap;
}
</style>
</head>

<body>

<h1>ðŸ“Š 2BANGUZHQ Analytics</h1>

<div class="card">
  <h2>Total Plays</h2>
  <h1 id="totalPlays">0</h1>
</div>

<div class="card">
  <h2>City</h2>
  <pre id="cities">Loadingâ€¦</pre>
</div>

<div class="card">
  <h2>State</h2>
  <pre id="states">Loadingâ€¦</pre>
</div>

<div class="card">
  <h2>Age Group</h2>
  <pre id="ages">Loadingâ€¦</pre>
</div>

<script>
  // ðŸ”’ LOCK TO YOU ONLY
  auth.onAuthStateChanged(user=>{
    if(!user || user.email !== "YOUR_EMAIL_HERE"){
      document.body.innerHTML = "â›” Access Denied";
      return;
    }
  });

  // TOTAL PLAYS
  db.collection("stats").doc("plays").onSnapshot(doc=>{
    if(doc.exists){
      document.getElementById("totalPlays").innerText =
        doc.data().count || 0;
    }
  });

  // CITY
  db.collection("analytics").doc("cities").onSnapshot(doc=>{
    document.getElementById("cities").innerText =
      JSON.stringify(doc.data() || {}, null, 2);
  });

  // STATE
  db.collection("analytics").doc("states").onSnapshot(doc=>{
    document.getElementById("states").innerText =
      JSON.stringify(doc.data() || {}, null, 2);
  });

  // AGE
  db.collection("analytics").doc("ages").onSnapshot(doc=>{
    document.getElementById("ages").innerText =
      JSON.stringify(doc.data() || {}, null, 2);
  });
</script>

</body>
</html>
