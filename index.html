<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>2BANGUZHQ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Firebase SDKs (keep in <head>) -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>

  <style>
    :root{
      --black:#05070A;
      --neon:#00B4FF;
      --cyan:#00F6FF;
      --steel:#1A1F2B;
      --silver:#C9CCD6;
    }
    body{ background:var(--black); color:white; font-family:Arial; margin:0; padding:0; }
    header{ padding:30px 8%; border-bottom:1px solid #0a1a2a; }
    h1{ margin:0; color:var(--silver); text-shadow:0 0 18px var(--neon); letter-spacing:3px; }
    section{ padding:30px 8%; }
    .card{ background:var(--steel); border:1px solid transparent; border-radius:12px; padding:18px; margin-top:12px; }
    .card:hover{ border-color:var(--neon); box-shadow:0 0 18px rgba(0,180,255,.25); }
    .buy-btn{
      display:inline-block;
      padding:10px 16px;
      border:1px solid var(--neon);
      background:transparent;
      color:var(--neon);
      cursor:pointer;
      border-radius:8px;
      text-decoration:none;
      margin:6px 6px 0 0;
      box-shadow:0 0 14px rgba(0,180,255,.25);
    }
    .buy-btn:hover{ background:var(--neon); color:black; box-shadow:0 0 28px var(--neon); }
    input, textarea{
      width:100%;
      max-width:420px;
      padding:12px;
      margin-top:10px;
      border-radius:8px;
      border:1px solid #0a1a2a;
      background:#070b14;
      color:white;
      outline:none;
    }
    textarea{ min-height:90px; }
    #authStatus{ margin-top:10px; color:var(--cyan); }
    .muted{ opacity:.85; }
  </style>
</head>

<body>

  <header>
    <h1>2BANGUZHQ</h1>
    <p class="muted">Charlotte, NC â€¢ Fan hub + music</p>
  </header>

  <!-- AUTH -->
  <section id="auth">
    <h2>Fan Login</h2>
    <div class="card">
      <input id="authEmail" type="email" placeholder="Email" autocomplete="email">
      <input id="authPassword" type="password" placeholder="Password" autocomplete="current-password">

      <div>
        <button class="buy-btn" onclick="signUp()">Sign Up</button>
        <button class="buy-btn" onclick="logIn()">Log In</button>
        <button class="buy-btn" onclick="logOut()">Log Out</button>
      </div>

      <div id="authStatus"></div>
    </div>
  </section>

  <!-- MUSIC -->
  <section id="music">
    <h2>Music</h2>
    <div class="card">
      <h3 style="margin:0 0 10px; color:var(--cyan);">Track One</h3>

      <audio controls onplay="trackStream('Track One')" style="width:100%;">
        <source src="song1.mp3" type="audio/mpeg">
      </audio>

      <!-- Stripe link button (optional) -->
      <!-- <a class="buy-btn" href="YOUR_STRIPE_LINK" target="_blank">ðŸ’Ž Buy for $1</a> -->
    </div>
  </section>

  <!-- COMMENTS -->
  <section id="comments">
    <h2>Comments</h2>
    <div class="card">
      <textarea id="commentText" placeholder="Leave a comment..."></textarea>
      <div>
        <button class="buy-btn" onclick="postComment()">Post Comment</button>
      </div>
      <div id="commentsList" style="margin-top:16px;"></div>
    </div>
  </section>

  <!-- ALL JS GOES AT THE BOTTOM (ABOVE </body>) -->
  <script>
    // âœ… IMPORTANT: Replace this whole object with the EXACT config from:
    // Firebase Console â†’ Project settings â†’ Your apps â†’ Config
    const firebaseConfig = {
      apiKey: "PASTE_REAL_API_KEY_HERE",
      authDomain: "PASTE_REAL_AUTH_DOMAIN_HERE",
      projectId: "PASTE_REAL_PROJECT_ID_HERE",
      storageBucket: "PASTE_REAL_STORAGE_BUCKET_HERE",
      messagingSenderId: "PASTE_REAL_SENDER_ID_HERE",
      appId: "PASTE_REAL_APP_ID_HERE"
      // measurementId optional
    };

    firebase.initializeApp(firebaseConfig);

    const db = firebase.firestore();
    const auth = firebase.auth();

    // -------- AUTH ----------
    function signUp() {
      const email = document.getElementById("authEmail").value.trim();
      const password = document.getElementById("authPassword").value;

      auth.createUserWithEmailAndPassword(email, password)
        .then(() => document.getElementById("authStatus").innerText = "âœ… Signed up!")
        .catch(err => document.getElementById("authStatus").innerText = err.message);
    }

    function logIn() {
      const email = document.getElementById("authEmail").value.trim();
      const password = document.getElementById("authPassword").value;

      auth.signInWithEmailAndPassword(email, password)
        .then(() => document.getElementById("authStatus").innerText = "ðŸ”¥ Logged in!")
        .catch(err => document.getElementById("authStatus").innerText = err.message);
    }

    function logOut() {
      auth.signOut().then(() => {
        document.getElementById("authStatus").innerText = "ðŸ‘‹ Logged out";
      });
    }

    auth.onAuthStateChanged(user => {
      if (user) {
        document.getElementById("authStatus").innerText = `ðŸŽ§ Logged in as ${user.email}`;
      }
    });

    // -------- STREAMS ----------
    function trackStream(songTitle) {
      db.collection("streams").add({
        song: songTitle,
        time: new Date()
      }).catch(err => console.error("Stream error:", err));
    }

    // -------- COMMENTS ----------
    function postComment() {
      const user = auth.currentUser;
      const text = document.getElementById("commentText").value;

      if (!user) {
        alert("Please log in to comment.");
        return;
      }

      if (!text.trim()) return;

      db.collection("comments").add({
        text: text,
        user: user.email,
        time: new Date()
      }).then(() => {
        document.getElementById("commentText").value = "";
      }).catch(err => console.error("Comment error:", err));
    }

    function loadComments() {
      db.collection("comments")
        .orderBy("time", "desc")
        .onSnapshot(snapshot => {
          const list = document.getElementById("commentsList");
          list.innerHTML = "";
          snapshot.forEach(doc => {
            const c = doc.data();
            const row = document.createElement("div");
            row.style.borderBottom = "1px solid #0a1a2a";
            row.style.padding = "10px 0";
            row.innerHTML = `<strong style="color:var(--cyan)">${c.user}</strong><br>${c.text}`;
            list.appendChild(row);
          });
        });
    }

    loadComments();
  </script>

</body>
</html>

